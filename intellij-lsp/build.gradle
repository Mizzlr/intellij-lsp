group 'com.github.mizzlr'

apply plugin: 'java'
apply plugin: 'idea'

buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath 'eu.appsatori:gradle-fatjar-plugin:0.3'
    }
}

apply plugin: 'eu.appsatori.fatjar'

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'org.eclipse.lsp4j', name: 'org.eclipse.lsp4j', version: '0.3.0'
    compile group: 'io.get-coursier', name: 'coursier_2.12', version: '1.0.0-RC13'
    compile group: 'io.get-coursier', name: 'coursier-cache_2.12', version: '1.0.0-RC13'
    compile group: 'com.vladsch.flexmark', name: 'flexmark', version: '0.7.0'
    compile 'org.scala-lang:scala-compiler:2.12.4'
    compile 'org.scala-lang:scala-library:2.12.4'
}

fatJar {
    classifier 'fat'
    manifest {
        attributes 'Main-Class': 'com.github.mizzlr.lsp.PluginMain'
    }
    exclude 'META-INF/*.DSA', 'META-INF/*.RSA', 'META-INF/*.SF'
}
